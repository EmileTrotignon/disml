<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Event (disml.Disml.Event)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">disml</a> &#x00BB; <a href="../index.html">Disml</a> &#x00BB; Event</nav><h1>Module <code>Disml.Event</code></h1></header><aside><p>Barebones of event dispatching. Most users will have no reason to look here.</p></aside><dl><dt class="spec exception" id="exception-Invalid_event"><a href="#exception-Invalid_event" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Invalid_event</span><span class="keyword"> of </span>string</code></dt><dd><p>Used internally when received an unknown event. Is caught and logged.</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>t</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-t.HELLO" class="anchored"><td class="def constructor"><a href="#type-t.HELLO" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">HELLO</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.READY" class="anchored"><td class="def constructor"><a href="#type-t.READY" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">READY</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.RESUMED" class="anchored"><td class="def constructor"><a href="#type-t.RESUMED" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">RESUMED</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.INVALID_SESSION" class="anchored"><td class="def constructor"><a href="#type-t.INVALID_SESSION" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">INVALID_SESSION</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.CHANNEL_CREATE" class="anchored"><td class="def constructor"><a href="#type-t.CHANNEL_CREATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">CHANNEL_CREATE</span><span class="keyword"> of </span><a href="../Channel_t/index.html#type-t">Channel_t.t</a></code></td></tr><tr id="type-t.CHANNEL_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.CHANNEL_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">CHANNEL_UPDATE</span><span class="keyword"> of </span><a href="../Channel_t/index.html#type-t">Channel_t.t</a></code></td></tr><tr id="type-t.CHANNEL_DELETE" class="anchored"><td class="def constructor"><a href="#type-t.CHANNEL_DELETE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">CHANNEL_DELETE</span><span class="keyword"> of </span><a href="../Channel_t/index.html#type-t">Channel_t.t</a></code></td></tr><tr id="type-t.CHANNEL_PINS_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.CHANNEL_PINS_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">CHANNEL_PINS_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.GUILD_CREATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_CREATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_CREATE</span><span class="keyword"> of </span><a href="../Guild_t/index.html#type-t">Guild_t.t</a></code></td></tr><tr id="type-t.GUILD_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_UPDATE</span><span class="keyword"> of </span><a href="../Guild_t/index.html#type-t">Guild_t.t</a></code></td></tr><tr id="type-t.GUILD_DELETE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_DELETE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_DELETE</span><span class="keyword"> of </span><a href="../Guild_t/index.html#type-t">Guild_t.t</a></code></td></tr><tr id="type-t.GUILD_BAN_ADD" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_BAN_ADD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_BAN_ADD</span><span class="keyword"> of </span><a href="../Ban_t/index.html#type-t">Ban_t.t</a></code></td></tr><tr id="type-t.GUILD_BAN_REMOVE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_BAN_REMOVE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_BAN_REMOVE</span><span class="keyword"> of </span><a href="../Ban_t/index.html#type-t">Ban_t.t</a></code></td></tr><tr id="type-t.GUILD_EMOJIS_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_EMOJIS_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_EMOJIS_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.GUILD_INTEGRATIONS_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_INTEGRATIONS_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_INTEGRATIONS_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.GUILD_MEMBER_ADD" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_MEMBER_ADD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_MEMBER_ADD</span><span class="keyword"> of </span><a href="../Member_t/index.html#type-t">Member_t.t</a></code></td></tr><tr id="type-t.GUILD_MEMBER_REMOVE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_MEMBER_REMOVE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_MEMBER_REMOVE</span><span class="keyword"> of </span><a href="../Member_t/index.html#type-member_wrapper">Member_t.member_wrapper</a></code></td></tr><tr id="type-t.GUILD_MEMBER_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_MEMBER_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_MEMBER_UPDATE</span><span class="keyword"> of </span><a href="../Member_t/index.html#type-member_update">Member_t.member_update</a></code></td></tr><tr id="type-t.GUILD_MEMBERS_CHUNK" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_MEMBERS_CHUNK" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_MEMBERS_CHUNK</span><span class="keyword"> of </span><a href="../Member_t/index.html#type-t">Member_t.t</a> list</code></td></tr><tr id="type-t.GUILD_ROLE_CREATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_ROLE_CREATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_ROLE_CREATE</span><span class="keyword"> of </span><a href="../Role_t/index.html#type-t">Role_t.t</a></code></td></tr><tr id="type-t.GUILD_ROLE_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_ROLE_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_ROLE_UPDATE</span><span class="keyword"> of </span><a href="../Role_t/index.html#type-t">Role_t.t</a></code></td></tr><tr id="type-t.GUILD_ROLE_DELETE" class="anchored"><td class="def constructor"><a href="#type-t.GUILD_ROLE_DELETE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">GUILD_ROLE_DELETE</span><span class="keyword"> of </span><a href="../Role_t/index.html#type-t">Role_t.t</a></code></td></tr><tr id="type-t.MESSAGE_CREATE" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_CREATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_CREATE</span><span class="keyword"> of </span><a href="../Message_t/index.html#type-t">Message_t.t</a></code></td></tr><tr id="type-t.MESSAGE_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_UPDATE</span><span class="keyword"> of </span><a href="../Message_t/index.html#type-message_update">Message_t.message_update</a></code></td></tr><tr id="type-t.MESSAGE_DELETE" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_DELETE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_DELETE</span><span class="keyword"> of </span><a href="../Snowflake/index.html#type-t">Snowflake.t</a><span class="keyword"> * </span><a href="../Snowflake/index.html#type-t">Snowflake.t</a></code></td></tr><tr id="type-t.MESSAGE_BULK_DELETE" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_BULK_DELETE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_BULK_DELETE</span><span class="keyword"> of </span><a href="../Snowflake/index.html#type-t">Snowflake.t</a> list</code></td></tr><tr id="type-t.MESSAGE_REACTION_ADD" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_REACTION_ADD" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_REACTION_ADD</span><span class="keyword"> of </span><a href="../Reaction_t/index.html#type-reaction_event">Reaction_t.reaction_event</a></code></td></tr><tr id="type-t.MESSAGE_REACTION_REMOVE" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_REACTION_REMOVE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_REACTION_REMOVE</span><span class="keyword"> of </span><a href="../Reaction_t/index.html#type-reaction_event">Reaction_t.reaction_event</a></code></td></tr><tr id="type-t.MESSAGE_REACTION_REMOVE_ALL" class="anchored"><td class="def constructor"><a href="#type-t.MESSAGE_REACTION_REMOVE_ALL" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">MESSAGE_REACTION_REMOVE_ALL</span><span class="keyword"> of </span><a href="../Reaction_t/index.html#type-t">Reaction_t.t</a> list</code></td></tr><tr id="type-t.PRESENCE_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.PRESENCE_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">PRESENCE_UPDATE</span><span class="keyword"> of </span><a href="../Presence/index.html#type-t">Presence.t</a></code></td></tr><tr id="type-t.TYPING_START" class="anchored"><td class="def constructor"><a href="#type-t.TYPING_START" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">TYPING_START</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.USER_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.USER_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">USER_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.VOICE_STATE_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.VOICE_STATE_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">VOICE_STATE_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.VOICE_SERVER_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.VOICE_SERVER_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">VOICE_SERVER_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr><tr id="type-t.WEBHOOKS_UPDATE" class="anchored"><td class="def constructor"><a href="#type-t.WEBHOOKS_UPDATE" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">WEBHOOKS_UPDATE</span><span class="keyword"> of </span>Yojson.Safe.json</code></td></tr></table></dt><dd><p>Event dispatch type wrapper. Used internally.</p></dd></dl><dl><dt class="spec value" id="val-event_of_yojson"><a href="#val-event_of_yojson" class="anchor"></a><code><span class="keyword">val </span>event_of_yojson : contents:Yojson.Safe.json <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Used to convert an event string and payload into a t wrapper type.</p></dd></dl><dl><dt class="spec value" id="val-dispatch"><a href="#val-dispatch" class="anchor"></a><code><span class="keyword">val </span>dispatch : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Sends the event to the registered handler.</p></dd></dl><dl><dt class="spec value" id="val-handle_event"><a href="#val-handle_event" class="anchor"></a><code><span class="keyword">val </span>handle_event : ev:string <span>&#45;&gt;</span> Yojson.Safe.json <span>&#45;&gt;</span> unit</code></dt><dd><p>Wrapper to other functions. This is called from the shards.</p></dd></dl></div></body></html>